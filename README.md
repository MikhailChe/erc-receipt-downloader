# ERC receipt downloader

Q: Что это?

A: Маленький скрипт, который помогает в хранении локальных копий 
счетов за комуналку, которая проходит через ЕРЦ.

Q: Зачем это надо?

A: Основная проблема в том, что нельзя скачать квитанции за прошлые периоды, а в них
в удобной для чтения человеком форме
есть некоторое количетсво полезной информации, например внесенные показания приборов
учёта, тарифы, задолженности прочее. 

## Бинарные зависимости
* Python3

## Установка
Запустить скрипт `create_env.sh`. Он создаст директорию с виртуальным окружением
для дальнейшей установки зависимостей и запуска скрипта.

## Конфигурация
Скопировать `config_ex.sh` в `config.sh`. Поменять значение переменных в этом файле на свои
`LOG_PATH` - путь до папки, в которую будут записаны логи приложения
`ERC_LOGIN` - логин от личного кабинета ЕРЦ
`ERC_PASSWORD` - пароль от личного кабинета ЕРЦ
`ERC_DATA_DIR` - директория, в которой будут хранится квитанции
`TELEGRAM_TOKEN` - токен бота в телеграм; от его имени будут отправлятся уведомления о выполнении скрипта
`TELEGRAM_CHAT_ID` - чат, в которй бот будет писать увеодмления

## Запуск
Запустить `run.sh`. В случае успешного выполнения в директории из переменной окружения `ERC_DATA_DIR`
(по умолчанию `./data`) будут созданы папки для хранения квитанций. Название каждой папки внутри
`./data` - номер лицевого счёта из переменной окружения `ERC_CONTRACT_NUMBERS`.

### Crontab
Можно добавить запуск скрипта в crontab и запускать его раз в день.


# TODO:
* Docker
